
@{
    ViewBag.Title = "GetSubCategories";
    ViewBag.LayoutPage = "sub";
    Layout = "~/Views/Shared/LayoutSub.cshtml";
}   
 <!-- New Arrivals section start -->
<div class="collection_text">@ViewBag.Category</div>
<div class="layout_padding gallery_section">
    <div class="container">
        <div class="row">
            <div class="col-sm-6">

                <input type="hidden" value="@ViewBag.SubCategoryId" id="GetSubCategoryId" />
                <span style="color:white;font-size:large;">Sort By :</span>
                @Html.DropDownList("SortList", new List<SelectListItem>{
           new SelectListItem{ Text="Date", Value = "1" },
           new SelectListItem{ Text="Price", Value = "2" },
           }, "All", new { onchange = "SortItemslistChange(this)", @class = "form-control", @style = "display:initial;width:auto;" })
            </div>
            <div class="col-sm-6" id="Subcategoriesdiv" style="text-align:end">
                <span style="color:white;font-size:large;">Sub Categories : </span>
                @Html.DropDownList("Subcategories", ViewBag.SubCategorylist as IEnumerable<SelectListItem>, "All", new { @class = "form-control", @style = "display:initial;width:auto;" })
            </div>
        </div>
        <div class="row" id="itemsList">

            @foreach (var subCate in ViewBag.SCats)
            {

                <div  class="col-sm-4 showItemsOfSubCategories">
                    <input type="hidden" value="@subCate.SubCategorieId" class="GetSubCategorieId" />
                    <input type="hidden" value="@subCate.name" class="GetSubCategorieName" />

                    <div class="best_shoes">

                        <p class="best_text">@subCate.name</p>
                        <div class="shoes_icon"><img src="~/Content/Template/images/shoes-img4.png"></div>
                        <div class="star_text">
                            <div class="left_part">
                                <ul>
                                    <li><a href="#"><img src="~/Content/Template/images/star-icon.png"/></a></li>
                                    <li><a href="#"><img src="~/Content/Template/images/star-icon.png"/></a></li>
                                    <li><a href="#"><img src="~/Content/Template/images/star-icon.png"/></a></li>
                                    <li><a href="#"><img src="~/Content/Template/images/star-icon.png"/></a></li>
                                    <li><a href="#"><img src="~/Content/Template/images/star-icon.png"/></a></li>
                                </ul>
                            </div>
                            <div class="right_part">
                                <div class="shoes_price">Items : <span style="color: #ff4e5b;">60</span></div>
                            </div>
                        </div>
                    </div>
                </div>
            }
        </div>
@*        <div id="item_View" style="">

        </div>*@
    </div>
</div>
<!-- New Arrivals section end -->


<script>
    function SortItemslistChange(value) {
        debugger;
        var selectedValueId = document.getElementById('SortList').value;
        var subCategoryId = document.getElementById('GetSubCategoryId').value;
        $.ajax({
            type: "GET",
            url: '/Items/SortItemList?value=' + selectedValueId + "&&subCategoryId=" + subCategoryId,
            success: function (response) {
                debugger;
                $("#itemsList").html("");
                $("#itemsList").html(response);
            }
        });
    }
</script>
